@model PersonModel
@using TaskManager.Data;
@inject TaskManagerDbContext mod
@{
	var isLoggedIn = Context.Session.GetString("IsLoggedIn") == "true";
	var loggedInPerson = Context.Session.GetString("LoggedInPerson");
	var loggedInPersonModel = mod.PersonDb.FirstOrDefault(person => person.PersonName == loggedInPerson);

}

<div class="home-container container d-flex flex-column text-center justify-content-center align-items-center" style="margin-top: 5%">
	<div class="blob">
		<svg viewBox="100 100 100 100" xmlns="http://www.w3.org/2000/svg">
			<path fill="#E6E6DF" transform="translate(100, 100)">
				<animate attributeName="d" dur="20000ms" repeatCount="indefinite"
						 values="M28.6,-50.7C35.1,-45.8,37,-34.2,38.3,-24.6C39.7,-15,40.4,-7.5,41.9,0.9C43.4,9.2,45.7,18.5,46.5,31.8C47.3,45.1,46.7,62.4,38.7,68.8C30.7,75.1,15.4,70.4,0.4,69.8C-14.6,69.2,-29.3,72.6,-35.5,65.3C-41.8,57.9,-39.7,39.8,-45.1,27.1C-50.5,14.5,-63.3,7.2,-66.5,-1.8C-69.7,-10.9,-63.2,-21.8,-56.5,-32.2C-49.7,-42.5,-42.8,-52.4,-33.4,-55.5C-23.9,-58.7,-12,-55.3,-0.4,-54.5C11.1,-53.7,22.1,-55.6,28.6,-50.7Z;

M30.9,-55.6C42.1,-47,54.8,-43,62.6,-34.5C70.3,-26,73,-13,69.4,-2.1C65.7,8.8,55.7,17.6,49.2,28.3C42.8,39,39.9,51.6,32.3,62C24.7,72.4,12.4,80.6,0.3,80.1C-11.8,79.7,-23.6,70.5,-32.7,60.9C-41.7,51.4,-48,41.4,-55.4,31.1C-62.7,20.9,-71.2,10.4,-74.8,-2.1C-78.5,-14.7,-77.3,-29.3,-70,-39.7C-62.8,-50.1,-49.4,-56.2,-36.7,-64C-24,-71.7,-12,-81,-1.1,-79.1C9.8,-77.2,19.6,-64.1,30.9,-55.6Z;
M34.9,-61.6C42.4,-56.2,43.8,-41.1,50.6,-29.2C57.5,-17.4,69.9,-8.7,71.7,1C73.4,10.7,64.5,21.4,56.9,32C49.3,42.6,43,53.1,33.8,62.5C24.5,72,12.2,80.3,-1.7,83.2C-15.6,86.1,-31.2,83.5,-40.5,74.1C-49.7,64.7,-52.8,48.4,-56.5,35C-60.3,21.5,-64.9,10.7,-62.1,1.6C-59.3,-7.5,-49.2,-15,-42.8,-24C-36.4,-33,-33.7,-43.4,-27.2,-49.4C-20.7,-55.4,-10.4,-57.1,1.7,-60C13.7,-62.9,27.4,-67.1,34.9,-61.6Z;
M28.6,-50.7C35.1,-45.8,37,-34.2,38.3,-24.6C39.7,-15,40.4,-7.5,41.9,0.9C43.4,9.2,45.7,18.5,46.5,31.8C47.3,45.1,46.7,62.4,38.7,68.8C30.7,75.1,15.4,70.4,0.4,69.8C-14.6,69.2,-29.3,72.6,-35.5,65.3C-41.8,57.9,-39.7,39.8,-45.1,27.1C-50.5,14.5,-63.3,7.2,-66.5,-1.8C-69.7,-10.9,-63.2,-21.8,-56.5,-32.2C-49.7,-42.5,-42.8,-52.4,-33.4,-55.5C-23.9,-58.7,-12,-55.3,-0.4,-54.5C11.1,-53.7,22.1,-55.6,28.6,-50.7Z">

				</animate>
			</path>
		</svg>
	</div>
	@if (isLoggedIn)
		{
	<h1 style="font-weight: 400">Создавайте и управляйте проектами с лёгкостью!</h1>

	<div class="home_block-elements_container w-100" style="margin: 30px 0px 30px 0px">
		
			<div class="home_block-element flex-column border">
				<div class="home_block-element_up d-flex justify-content-center align-items-center">
					<img src="~/Images/plus.svg" style="width: 40%">
				</div>
				<div class="home_block-element_down border-top">
					@*<a asp-route-id="@Model" asp-area="" asp-controller="ProjectModels" asp-action="Create" style="width: 100%; height: 100%"></a>*@
					<form method="post" asp-action="Create" asp-controller="Projectmodels">
				<div asp-validation-summary="ModelOnly" class="text-danger"></div>
						<div class="form-container">
							<div class="">
								<input type="hidden" asp-for="PersonName" class="form-control" value="@Model.PersonName" />
								<input type="hidden" asp-for="PersonPassword" class="form-control" value="@Model.PersonPassword" />
								<input type="hidden" asp-for="PersonMailAddress" class="form-control" value="@Model.PersonMailAddress" />
							</div>
							<button type="submit">Новый проект</button>
						</div>
					</form>

				</div>
			</div>

			<div class="home_block-element flex-column border">
				<div class="home_block-element_up d-flex justify-content-center align-items-center">
					<img src="~/Images/Folder.svg" style="width: 50%">
				</div>
				<div class="home_block-element_down border-top">
					@*<a asp-route-id="@Model" asp-area="" asp-controller="ProjectModels" asp-action="Index" style="width: 100%; height: 100%"></a>*@
					<form method="post" asp-action="Index" asp-controller="Projectmodels">
						<div asp-validation-summary="ModelOnly" class="text-danger"></div>
						<div class="form-container">
							<div class="">
								<input type="hidden" asp-for="PersonName" class="form-control" value="@Model.PersonName" />
								<input type="hidden" asp-for="PersonPassword" class="form-control" value="@Model.PersonPassword" />
								<input type="hidden" asp-for="PersonMailAddress" class="form-control" value="@Model.PersonMailAddress" />
							</div>
							<button type="submit">Проекты</button>
						</div>
					</form>

				</div>
			</div>
			<div class="home_block-element flex-column border">
				<div class="home_block-element_up d-flex justify-content-center align-items-center">
					<img src="~/Images/Folder-plus.svg" style="width: 50%">
				</div>
				<div class="home_block-element_down border-top">
					@*<a asp-area="" asp-controller="ProjectModels" asp-action="JoinProject" style="width: 100%; height: 100%"></a>*@
					<form method="post" asp-action="JoinProject" asp-controller="Projectmodels">
						<div asp-validation-summary="ModelOnly" class="text-danger"></div>
						<div class="form-container">
							<div class="">
								<input type="hidden" asp-for="PersonName" class="form-control" value="@Model.PersonName" />
								<input type="hidden" asp-for="PersonPassword" class="form-control" value="@Model.PersonPassword" />
								<input type="hidden" asp-for="PersonMailAddress" class="form-control" value="@Model.PersonMailAddress" />
							</div>
							<button type="submit">Присоединиться к проекту</button>
						</div>
					</form>

				</div>
			</div>
			</div>
		}
		else
		{
			<h1 style="font-weight: 400">Сначала зарегистрируйтесь!</h1>

			<div class="home_block-elements_container w-100" style="margin: 30px 0px 30px 0px">
			<div class="home_block-element flex-column border" style="opacity: 0.5">
				<div class="home_block-element_up d-flex justify-content-center align-items-center">
					<img src="~/Images/plus.svg" style="width: 40%">
				</div>
				<div class="home_block-element_down border-top">
					@*<a asp-route-id="@Model" asp-area="" asp-controller="ProjectModels" asp-action="Create" style="width: 100%; height: 100%"></a>*@
					<form method="post" asp-action="Create" asp-controller="Projectmodels">
						<div asp-validation-summary="ModelOnly" class="text-danger"></div>
						<div class="form-container">
							<div class="">
								<input type="hidden" asp-for="PersonName" class="form-control" value="@Model.PersonName" />
								<input type="hidden" asp-for="PersonPassword" class="form-control" value="@Model.PersonPassword" />
								<input type="hidden" asp-for="PersonMailAddress" class="form-control" value="@Model.PersonMailAddress" />
							</div>
							<button disabled type="submit">Новый проект</button>
						</div>
					</form>

				</div>
			</div>

			<div class="home_block-element flex-column border" style="opacity: 0.5">
				<div class="home_block-element_up d-flex justify-content-center align-items-center">
					<img src="~/Images/Folder.svg" style="width: 50%">
				</div>
				<div class="home_block-element_down border-top">
					@*<a asp-route-id="@Model" asp-area="" asp-controller="ProjectModels" asp-action="Index" style="width: 100%; height: 100%"></a>*@
					<form method="post" asp-action="Index" asp-controller="Projectmodels">
						<div asp-validation-summary="ModelOnly" class="text-danger"></div>
						<div class="form-container">
							<div class="">
								<input type="hidden" asp-for="PersonName" class="form-control" value="@Model.PersonName" />
								<input type="hidden" asp-for="PersonPassword" class="form-control" value="@Model.PersonPassword" />
								<input type="hidden" asp-for="PersonMailAddress" class="form-control" value="@Model.PersonMailAddress" />
							</div>
							<button disabled type="submit">Проекты</button>
						</div>
					</form>

				</div>
			</div>
			<div class="home_block-element flex-column border" style="opacity: 0.5">
				<div class="home_block-element_up d-flex justify-content-center align-items-center">
					<img src="~/Images/Folder-plus.svg" style="width: 50%">
				</div>
				<div class="home_block-element_down border-top">
					@*<a asp-area="" asp-controller="ProjectModels" asp-action="JoinProject" style="width: 100%; height: 100%"></a>*@
					<form method="post" asp-action="JoinProject" asp-controller="Projectmodels">
						<div asp-validation-summary="ModelOnly" class="text-danger"></div>
						<div class="form-container">
							<div class="">
								<input type="hidden" asp-for="PersonName" class="form-control" value="@Model.PersonName" />
								<input type="hidden" asp-for="PersonPassword" class="form-control" value="@Model.PersonPassword" />
								<input type="hidden" asp-for="PersonMailAddress" class="form-control" value="@Model.PersonMailAddress" />
							</div>
							<button disabled type="submit">Присоединиться к проекту</button>
						</div>
					</form>

				</div>
			</div>
			
		
		
	</div>
	}
</div>

